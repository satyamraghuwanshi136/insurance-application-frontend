<div class="mt-5 pb-2"></div>
<button class="btn btn-sm btn-secondary" (click)="goBack()"><i class="bi bi-chevron-left"></i> go back</button>
<div class="container-fluid row d-flex align-item-center justify-content-center mb-4">
    <div class="col-md-6 mt-4 py-4 shadow bg-white border border-1">
        <div class="row d-flex align-item-center justify-content-center">
            <div class="col-md-8 text-center">
                <h2 class="fw-bold">Add <span class="text-success">underwriter</span></h2>
            </div>
        </div>
        <div class="row d-flex align-item-center justify-content-center mt-3">
            <div class="col-md-10">
                <form [formGroup]="registerUserForm" (ngSubmit)="registerUser()">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Email</label>
                        <input type="email" class="form-control" [ngClass]="registerUserForm.controls['email'].invalid && registerUserForm.controls['email'].touched ? 'is-invalid':''" formControlName="email" name="email"
                            id="exampleInputEmail1">
                            <div class="invalid-feedback">
                                Please provide a valid email.
                            </div>
                    </div>
                    <div class="mb-3">
                        <label for="exampleInputPassword1" class="form-label">Password</label>
                        <input type="password" class="form-control" [ngClass]="registerUserForm.controls['psw'].invalid && registerUserForm.controls['psw'].touched ? 'is-invalid':''" formControlName="psw" name="psw"
                            id="exampleInputPassword1">
                            <div class="invalid-feedback">
                                Please enter a password.
                            </div>
                    </div>
                    <input type="text" hidden class="form-control" [ngClass]="registerUserForm.controls['role'].invalid && registerUserForm.controls['role'].touched ? 'is-invalid':''" formControlName="role" name="role" value="underwriter"
                            >
                    <!-- <div class="mb-3">
                        <label for="role" class="form-label">Role</label>
                        <select  [ngClass]="registerUserForm.controls['role'].invalid && registerUserForm.controls['role'].touched ? 'is-invalid':''"
                                class="form-select  form-select-md  mb-3" id="role"  aria-label=".form-select-lg example"
                                    formControlName="role" name="role">
                                    <option selected value="">select role</option>
                                    <option value="admin">Admin</option>
                                    <option value="underwriter" selected>Underwriter</option>
                                </select>
                            <div class="invalid-feedback">
                                Please enter a role.
                            </div>
                    </div> -->
                    <button  type="submit" data-bs-toggle="modal" data-bs-target="#exampleModal" [disabled]="!registerUserForm.valid"
                        class="btn btn-success w-100">{{ (userId === 0)? 'Add':'update' }}</button>
                </form>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" [ngClass]="modalSuccess?'text-success':'text-danger'" id="exampleModalLabel">{{ modalTitle }}</h5>
          <button type="button" routerLink="/admin/dashboard/manage-underwriter" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" [ngClass]="modalSuccess?'text-success':'text-danger'">
            {{ modalMsg }}
        </div>
        <div class="modal-footer">
          <button type="button" routerLink="/admin/dashboard/manage-underwriter" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>